ServerName localhost

<VirtualHost *:80>
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/public

    # Log files
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    <Directory /var/www/public>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # Rewrite rules for /sipta-dev/
    <Location /penjadwalan-ruangan/>
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteRule ^ index.php [QSA,L]
    </Location>

    # Enable Gzip compression for static files
    <IfModule mod_deflate.c>
        AddOutputFilterByType DEFLATE text/plain text/html text/xml text/css application/xml application/xhtml+xml application/rss+xml application/javascript application/x-javascript image/svg+xml
    </IfModule>

    # Cache static assets
    <IfModule mod_expires.c>
        ExpiresActive On
        ExpiresByType image/jpeg "access plus 6 months"
        ExpiresByType image/png "access plus 6 months"
        ExpiresByType image/gif "access plus 6 months"
        ExpiresByType image/svg+xml "access plus 6 months"
        ExpiresByType text/css "access plus 6 months"
        ExpiresByType application/javascript "access plus 6 months"
        ExpiresByType application/x-javascript "access plus 6 months"
        ExpiresByType font/woff2 "access plus 6 months"
        ExpiresByType application/font-woff "access plus 6 months"
        ExpiresByType application/vnd.ms-fontobject "access plus 6 months"
        ExpiresByType application/x-font-ttf "access plus 6 months"
    </IfModule>

    # PHP Configuration (mod_php)
    <FilesMatch "\.php$">
        SetHandler application/x-httpd-php
    </FilesMatch>
</VirtualHost>